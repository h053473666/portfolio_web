<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.alien.dao.SearchMapper">
    <select id="queryProductBySearch" resultType="Product">
        select item_id,name,item_id, name, image, price, category, sales_volume
        from portfolio_website.product
        <trim prefix="where" prefixOverrides="and|or">
        <if test="name != null">
                product.name like concat('%', #{name}, '%')
            </if>

            <if test="category != null">
                and product.category = #{category}
            </if>
        </trim>

        <if test="orderBy != null and orderType">
            order by ${orderBy} ${orderType}
        </if>
        limit #{limit}, 180

    </select>


</mapper>